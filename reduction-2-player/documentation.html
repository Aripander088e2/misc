<html>
<head>
  <title>Reduction Documentation</title>
</head>
<body>
  <span>Basic gameplay: Reduction is played on a square board of some size which the players can choose. Each space of this board is either empty or full; the board starts out with each space randomly empty or full. In Reduction, players make changes to the board; indeed, making changes to the board is basically the only allowed action. There are three types of change; each of these types affects only a 2x2 region of the board and can be done by clicking near the center intersection of that 2x2 region (if you can make a change on a 2x2 region, that region's center intersection will be green). The first type is to take an entirely empty 2x2 region and make it entirely full. The second type is the reverse of the first, namely, to take an entirely full 2x2 region and make it entirely empty. The third type is to take a 2x2 region with only two spaces filled and with those two spaces separated by a diagonal (rather than one being directly above or to the left of the other), and to flip all the spaces in that 2x2 region, resulting in that region still having two diagonally separared full spaces but with those spaces being the other two spaces in the region.</span>
  <br/>
  <span>On their turn, players can make up to some number of changes to the board. Like the board size, this number of changes is chosen by the players at the start of the game. The goal of each player on their turn is to reduce the number of full spaces from its value at the start of their turn. As soon as they do this, their turn ends. However, if they make the maximum allowed number of changes per turn without reducing the number of full spaces, the game ends and they lose (the other play wins). Since the board only has a finite number of full spaces to start with, and after every turn either the number of full spaces decreases or the game ends, the game will eventually end after a finite number of turns (with one player winning). One might be concerned that all the spaces would be emptied, but in that case the player who empties all the spaces will win since there is no way to make the number of full spaces lower than zero, and thus the other player will not be able to do that and will lose at the end of their turn.</span>
  <br/>
  <span>To avoid accidental clicks, several options exist. The "max undos per turn" option, if set to a nonzero value, allows each player to, in each turn, undo some number of changes they made within that turn. Undoing will always undo the most recent change of the current turn, and will restore the game to its state before that change. However, there will be one change; the number of undos in their current turn will increase by one. To avoid players constantly trying and undoing things, players only get a certain number of undos per turn. A "Reset" button shows up if the currently moving player has enough undos left to undo all their changes in their current turn, and undoes all those changes when pressed.</span>
  <br/>
  <span>The "confirm turn completion" option, if turned on, instead of automatically finishing a turn, asks a player whether they want to finish their turn, and allows them to say no which undoes their last change. This option thus only does anything if "max undos per turn" is nonzero. It serves two purposes. One is to prevent misclicks that reduce the number of filled spaces, but not in the way the player desired, ending their turn suddenly. The other purpose is to more prominantly indicate to the players and to people watching the game when a turn is over.</span>
  <br/>
  <span>The last option to discuss is the "challenge" option. This option allows challenges, which work as follows. A player can challenge if they think that the other player's most recent turn was suboptimal, in the sense that they could have removed full spaces (that is, reduced the total number of full spaces) in their most recent turn with a smaller number of changes than they actually did. The board will be then set to how it was at the start of the previous turn and the challenger will then have to remove full spaces with a smaller number of changes to show how that can be done. If the challenger succeeds in this, they win the game. The challenger can retract their challenge if undoes are allowed, at the cost of one undo.</span>
  <br/>
  <span>Note: A player with no undos left (or, more specifically playing with zero max undos per turn) cannot first remove full spaces on their own turn and then challenge the other player's previous turn, even if "confirm turn completion" is on. Their turn will end once they remove full spaces, before they get to challenge. Players can avoid this situation by simply always challenging before making any changes, if they want to challenge. Apart from this special case, the "confirm turn completion" option will always ask for confirmation whenever the player could take further actions on their turn (by undoing their last change).</span>
</body>
</html>